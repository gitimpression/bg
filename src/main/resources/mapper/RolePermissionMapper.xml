<?xm1 version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bg.mapper.RolePermissionMapper">
    <insert id="insertRolePermission">
        insert into `role_permission` (`id`,`role_id`,`permission_id`) values (null,#{roleId},#{permissionId});
    </insert>
    <delete id="deleteRolePermission">
        delete from `role_permission` where `role_id` = #{roleId} and `permission_id` = #{permissionId}
    </delete>
    <select id="getRolePermissionId" resultType="integer">
        select `id` from `role_permission`
        where `role_id` = (select `role_id` from `user` where `id` = #{userId})
        and `permission_id` = (select `id` from `permission` where `name` = #{pmName})
    </select>
    <select id="getPermissionByRoleId" resultType="java.lang.Long">
        select `permission_id` from `role_permission` where `role_id` = #{roleId}
    </select>
</mapper>
